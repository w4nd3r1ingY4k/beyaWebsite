{"data":{"archived":false,"inactive":false,"lambda_timeout":30,"lambda_memory":256,"name_slug":"gmail-receive","inactive_reason":null,"id":"p_brC6x3W","endpoint_id":"engsqyiqnis9bvv","owner_id":"o_ZjIMD7a","owner_type":"Org","name":"Gmail receive","description":null,"created_at":"2025-06-28T20:16:19.000Z","updated_at":"2025-06-28T20:16:29.000Z","public":false,"error_pipeline_id":0,"readme_md":null,"test_event_json":null,"error_triggered":false,"emits":false,"created_from_release_id":null,"execution_environment_id":null,"emitter_connected":null,"disabled_at":null,"use_processes":true,"concurrency":-1,"rate_limit":-1,"rate_limit_bucket_size_seconds":1,"hid":"p_brC6x3W","max_event_queue_size":null,"data_public":false,"deleted_at":null,"version":2,"allow_support":false,"project_id":519268,"production_pipeline_id":null,"repository_user_checkout_id":null,"latest_deployment_id":39078162,"latest_trafficked_deployment_id":39078161,"tiny_config_hash_id":14737,"autodeployable":false,"auto_rerun":false,"project_folder_id":null,"provisioned_concurrency":0,"network_id":null,"auto_rerun_email_on_first_error":false,"dir_hash":null,"last_event_at":null,"no_trace_history":false,"super_pipeline_id":null,"owner_name":"beya","ownerName":"beya","deployment":{"id":"d_5ZspLyz2","pipeline_id":"p_brC6x3W","version":2,"created_at":"2025-06-28T20:16:19.000Z","updated_at":"2025-06-28T20:16:19.000Z","traffick_start":null,"traffick_end":null,"traffick_error":null,"traffick_status":null,"platform_version":null,"hid":"d_5ZspLyz2","execution_environment_id":null,"use_manifest":true,"workdir_hash":null,"system_created":true,"origin":"builder","origins":null,"pipeline_name":"Gmail receive","cells":[{"id":"c_n7f9jEdO","type":"CodeCell","namespace":"code","disabled":false,"code_raw":null,"codeRaw":null,"codeConfigJson":null,"lang":"nodejs20.x","text_raw":null,"appConnections":[],"flat_params_visibility_json":null,"params_json":"{}","component":true,"savedComponent":{"id":"sc_6QibbzdN","code":"import { axios } from \"@pipedream/platform\";\n\nexport default defineComponent({\n  props: {\n    userId: {\n      type: \"string\",\n      description: \"User ID for this workflow\"\n    },\n    gmailAccountId: {\n      type: \"string\", \n      description: \"Gmail account ID\"\n    },\n    userEmail: {\n      type: \"string\",\n      description: \"User's email address\"\n    },\n    lambdaUrl: {\n      type: \"string\",\n      default: \"https://22y6e3kow4ozzkerpbd6shyxoi0hbcxx.lambda-url.us-east-1.on.aws/\"\n    }\n  },\n  async run({ steps, $ }) {\n    // Get the Gmail data from the webhook trigger\n    const gmailData = steps.trigger.event.body.gmail_data;\n    \n    if (!gmailData) {\n      throw new Error(\"No Gmail data found in trigger event\");\n    }\n    \n    // Forward the Gmail data to Beya's email processor\n    // The Lambda expects the gmail_data in the body along with user info\n    const response = await axios($, {\n      method: \"POST\",\n      url: this.lambdaUrl,\n      data: {\n        userId: this.userId,\n        gmail_account_id: this.gmailAccountId,\n        email: this.userEmail,\n        gmail_data: gmailData\n      },\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    \n    $.export(\"$summary\", `Forwarded Gmail data to Beya processor for ${this.userEmail}`);\n    return response;\n  },\n});","codeHash":"64dfb8f7716a0810d05b9a57d0f79945a6113f245411df81b0aae2ec3e841469","configurableProps":[{"name":"userId","type":"string","description":"User ID for this workflow"},{"name":"gmailAccountId","type":"string","description":"Gmail account ID"},{"name":"userEmail","type":"string","description":"User's email address"},{"name":"lambdaUrl","type":"string","default":"https://22y6e3kow4ozzkerpbd6shyxoi0hbcxx.lambda-url.us-east-1.on.aws/"}],"key":null,"description":null,"entryPath":null,"version":"","apps":[]},"component_key":null,"component_owner_id":null,"configured_props_json":null,"authProvisionIdMap":{},"authProvisionIds":[]}],"emits":false},"route_params":{"ownerName":"beya","id":"p_brC6x3W","nameSlug":"gmail-receive-","projectId":"proj_GzsqKG9","branch":null},"edit":true,"deployments":[["d_84s1opz9","2025-06-28T20:16:19.000Z"],["d_5ZspLyz2","2025-06-28T20:16:19.000Z"]]}}