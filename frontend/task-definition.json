{
  "family": "beya-polling-service",
  "networkMode": "awsvpc",
  "requiresCompatibilities": ["FARGATE"],
  "cpu": "512",
  "memory": "1024",
  "executionRoleArn": "arn:aws:iam::575108947335:role/ecsTaskExecutionRole",
  "taskRoleArn": "arn:aws:iam::575108947335:role/beyaPollingTaskRole",
  "containerDefinitions": [
    {
      "name": "beya-polling-container",
      "image": "575108947335.dkr.ecr.us-east-1.amazonaws.com/beya-polling:latest",
      "portMappings": [
        {
          "containerPort": 2074,
          "protocol": "tcp"
        }
      ],
      "essential": true,
      "environment": [
        {"name": "AWS_REGION", "value": "us-east-1"},
        {"name": "PINECONE_INDEX_NAME", "value": "beya-context"},
        {"name": "PORT", "value": "2074"},
        {"name": "PIPEDREAM_BASE_URL", "value": "https://api.pipedream.com"},
        {"name": "GMAIL_WORKFLOW_LAMBDA_URL", "value": "https://jt7emnbtqyd5cndtarbg5jr43u0esrao.lambda-url.us-east-1.on.aws/"},
        {"name": "INTEGRATIONS_TABLE", "value": "beya-integration-sessions"},
        {"name": "NODE_ENV", "value": "production"},
        {"name": "PIPEDREAM_PROJECT_ENVIRONMENT", "value": "production"}
      ],
      "secrets": [
        {"name": "OPENAI_API_KEY", "valueFrom": "arn:aws:secretsmanager:us-east-1:575108947335:secret:beya/production/api-keys-5pMHVD:OPENAI_API_KEY::"},
        {"name": "PINECONE_API_KEY", "valueFrom": "arn:aws:secretsmanager:us-east-1:575108947335:secret:beya/production/api-keys-5pMHVD:PINECONE_API_KEY::"},
        {"name": "GOOGLE_CLIENT_ID", "valueFrom": "arn:aws:secretsmanager:us-east-1:575108947335:secret:beya/production/api-keys-5pMHVD:GOOGLE_CLIENT_ID::"},
        {"name": "GOOGLE_CLIENT_SECRET", "valueFrom": "arn:aws:secretsmanager:us-east-1:575108947335:secret:beya/production/api-keys-5pMHVD:GOOGLE_CLIENT_SECRET::"},
        {"name": "PIPEDREAM_CLIENT_ID", "valueFrom": "arn:aws:secretsmanager:us-east-1:575108947335:secret:beya/production/api-keys-5pMHVD:PIPEDREAM_CLIENT_ID::"},
        {"name": "PIPEDREAM_CLIENT_SECRET", "valueFrom": "arn:aws:secretsmanager:us-east-1:575108947335:secret:beya/production/api-keys-5pMHVD:PIPEDREAM_CLIENT_SECRET::"},
        {"name": "PIPEDREAM_PROJECT_ID", "valueFrom": "arn:aws:secretsmanager:us-east-1:575108947335:secret:beya/production/api-keys-5pMHVD:PIPEDREAM_PROJECT_ID::"},
        {"name": "FRONTEND_BASE_URL", "valueFrom": "arn:aws:secretsmanager:us-east-1:575108947335:secret:beya/production/api-keys-5pMHVD:FRONTEND_BASE_URL::"}
      ],
      "logConfiguration": {
        "logDriver": "awslogs",
        "options": {
          "awslogs-group": "/ecs/beya-polling-service",
          "awslogs-region": "us-east-1",
          "awslogs-stream-prefix": "ecs"
        }
      }
    }
  ]
}
